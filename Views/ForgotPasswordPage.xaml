<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="tortugueroApp.Views.ForgotPasswordPage"
             BackgroundColor="#F4F1ED">

    <Grid>
       
        <Image Source="loginbackground.png"
               Aspect="AspectFill"
               Opacity="0.4" />

       
        <BoxView BackgroundColor="#1A000000" />

        
        <Button Text="â†"
                FontSize="28"
                TextColor="White"
                BackgroundColor="Transparent"
                WidthRequest="50"
                HeightRequest="50"
                HorizontalOptions="Start"
                VerticalOptions="Start"
                Margin="10,40,0,0"
                Clicked="OnBackClicked"/>

     
        <ScrollView VerticalOptions="Center" Padding="16">
            <VerticalStackLayout Spacing="24">
                
              
                <Frame Padding="24"
                       CornerRadius="12"
                       HasShadow="False"
                       BorderColor="Transparent">
                    <Frame.Background>
                        <SolidColorBrush Color="#F2F4F1ED" />
                    </Frame.Background>

                    <VerticalStackLayout Spacing="24">
                        
                       
                        <VerticalStackLayout Spacing="12" HorizontalOptions="Center">
                            <Image Source="plant_icon.png"
                                   WidthRequest="48"
                                   HeightRequest="48"
                                   HorizontalOptions="Center" />
                            
                            <Label Text="Reset Password"
                                   FontSize="28"
                                   FontAttributes="Bold"
                                   TextColor="#1C1C1C"
                                   HorizontalTextAlignment="Center" />
                            
                            <Label Text="Enter your email and new password"
                                   FontSize="16"
                                   TextColor="#6B6B6B"
                                   HorizontalTextAlignment="Center" />
                        </VerticalStackLayout>

                 
                        <VerticalStackLayout Spacing="8">
                            <Label Text="Email"
                                   FontSize="16"
                                   FontAttributes="Bold"
                                   TextColor="#1C1C1C" />
                            
                            <Entry x:Name="EmailEntry"
                                   Placeholder="email@example.com"
                                   Keyboard="Email"
                                   TextColor="#1C1C1C"
                                   PlaceholderColor="#6B6B6B"
                                   BackgroundColor="#EAE5E0"
                                   HeightRequest="56"
                                   FontSize="16" />
                        </VerticalStackLayout>

                  
                        <VerticalStackLayout Spacing="8">
                            <Label Text="New Password"
                                   FontSize="16"
                                   FontAttributes="Bold"
                                   TextColor="#1C1C1C" />
                            
                            <Grid ColumnDefinitions="*,Auto">
                                <Entry x:Name="NewPasswordEntry"
                                       Grid.Column="0"
                                       Placeholder="Enter new password"
                                       IsPassword="True"
                                       TextColor="#1C1C1C"
                                       PlaceholderColor="#6B6B6B"
                                       BackgroundColor="#EAE5E0"
                                       HeightRequest="56"
                                       FontSize="16" />
                                
                                <ImageButton Grid.Column="0"
                                            Source="visibility_off.png"
                                            BackgroundColor="Transparent"
                                            WidthRequest="24"
                                            HeightRequest="24"
                                            HorizontalOptions="End"
                                            Margin="0,0,12,0"
                                            Clicked="OnToggleNewPasswordVisibility" />
                            </Grid>
                        </VerticalStackLayout>

                        <VerticalStackLayout Spacing="8">
                            <Label Text="Confirm New Password"
                                   FontSize="16"
                                   FontAttributes="Bold"
                                   TextColor="#1C1C1C" />
                            
                            <Grid ColumnDefinitions="*,Auto">
                                <Entry x:Name="ConfirmPasswordEntry"
                                       Grid.Column="0"
                                       Placeholder="Confirm new password"
                                       IsPassword="True"
                                       TextColor="#1C1C1C"
                                       PlaceholderColor="#6B6B6B"
                                       BackgroundColor="#EAE5E0"
                                       HeightRequest="56"
                                       FontSize="16" />
                                
                                <ImageButton Grid.Column="0"
                                            Source="visibility_off.png"
                                            BackgroundColor="Transparent"
                                            WidthRequest="24"
                                            HeightRequest="24"
                                            HorizontalOptions="End"
                                            Margin="0,0,12,0"
                                            Clicked="OnToggleConfirmPasswordVisibility" />
                            </Grid>
                        </VerticalStackLayout>

                     
                        <Button x:Name="ResetButton"
                                Text="Reset Password"
                                FontSize="18"
                                FontAttributes="Bold"
                                TextColor="White"
                                BackgroundColor="#4A6C6A"
                                HeightRequest="56"
                                CornerRadius="8"
                                Clicked="OnResetPasswordClicked"
                                Shadow="{Shadow Brush=#4A6C6A, Offset='0,4', Radius=8, Opacity=0.2}" />

                      
                        <ActivityIndicator x:Name="LoadingIndicator"
                                          IsRunning="False"
                                          IsVisible="False"
                                          Color="#4A6C6A"
                                          HeightRequest="40" />

                     
                        <HorizontalStackLayout HorizontalOptions="Center" Spacing="4">
                            <Label Text="Remember your password?"
                                   FontSize="14"
                                   TextColor="#6B6B6B" />
                            <Label Text="Login"
                                   FontSize="14"
                                   FontAttributes="Bold"
                                   TextColor="#4A6C6A"
                                   TextDecorations="Underline">
                                <Label.GestureRecognizers>
                                    <TapGestureRecognizer Tapped="OnLoginTapped" />
                                </Label.GestureRecognizers>
                            </Label>
                        </HorizontalStackLayout>

                    </VerticalStackLayout>
                </Frame>
            </VerticalStackLayout>
        </ScrollView>
    </Grid>

</ContentPage>
